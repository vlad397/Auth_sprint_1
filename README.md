# Сервис аутентификации и авторизации

## Основные сущности
- Пользователи — логин, email, имя, фамилия, пароль, роли.
- Роли — имя, описание.
- Роль-Пользователь — пользователь, роль.
- История аутентификации — пользователь, время входа, браузер, платформа.

## Основные компоненты системы
- Cервер WSGI — сервер с запущенным приложением.
- Nginx — прокси-сервер, который является точкой входа для веб-приложения.
- PostgreSQL — хранилище данных, в котором лежит вся необходимая информация для сервса.
- SQLAlchemy - используется как ORM.

## Используемые технологии
- Flask + connexion + gevent
- PostgreSQL
- Docker
- Pytest + asyncpg + aiohttp
- SQLAlchemy

## Работа с проектом
### Запуск
1. Проект запускается командой
  ```python src/main.py runserver```
2. Для запуска проекта через Docker
  ```docker-compose up -d --build```
3. Документация находится по адресу ```http://127.0.0.1/api/v1/ui/```
4. Создать суперпользователя
  ```python src/main.py createsuperadmin <email> <login> <password>```

### Тестирование
Собрать тестовое окружение и запустить тесты
```docker-compose --file docker-compose.tests.yml -p tests up -d --build```
